function getCurrentScroll(){return window.pageYOffset||document.documentElement.scrollTop}function get(e){return new Promise(function(t,a){var i=new XMLHttpRequest;i.open("GET",e,!0),i.onload=function(){200==i.status?t(JSON.parse(i.response)):a(i.statusText)},i.onerror=function(){a(i.statusText)},i.send()})}let accordion=$(".accordion"),accordionButton=accordion.find(".toggle");function modal(e,t,a){const i=document.querySelector(".modal"+t);i&&document.addEventListener("click",function(t){if(t.target.closest(".button-modal"+e))i.classList.contains("active")?i.classList.remove("active"):(i.classList.add("active"),a("active"));else if(t.target.closest(".modal")){if(!t.target.closest(".button.close"))return;i.classList.remove("active")}else i.classList.remove("active"),a("deactive")})}if(accordionButton.on("click",function(e){e.stopImmediatePropagation(),console.log("closing accordion"),"clicked"==$(this).data("status")?$(this).data("status","not_clicked").closest(accordion).removeClass("accordion-closed"):$(this).data("status","clicked").closest(accordion).addClass("accordion-closed")}),$("#new-request").length){let e=1;var $element=$("main");$(window).data("ajaxready",!0).on("scroll",function(){if($element.length){if(0==$(window).data("ajaxready"))return;if($(window).scrollTop()+$(window).height()>$element.offset().top+$element.height())$(window).data("ajaxready",!1),get("ajax/index-favorites-"+e+".json").then(function(e){return indexFavorites(e),get("ajax/index-favorites-2.json")}).then(function(e){return indexFavorites(e),get("ajax/index-favorites-3.json")}).then(function(e){return indexFavorites(e),get("ajax/index-recentpost-1.json")}).then(function(e){return recentPosts(e),get("ajax/index-recentpost-2.json")}).then(function(e){recentPosts(e)})}});let t=document.getElementById("new-request");function indexFavorites(e){var a="";for(i=0;i<e.length;i++)for(a+='<section id="update" class="feed type-4"><div class="wrapper"><div class="title"><a href="'+e[i].urlCategory+'">'+e[i].category+'</a><a class="more" href="'+e[i].urlCategory+'">Selengkapnya</a></div><div class="wrapper clearfix">',i=0;i<e.length;i++)a+='<div class="col w-25"><div class="card"><div class="wrapper"><span class="date">'+e[i].date+'</span><h3><a href="'+e[i].urlAuthor+'"></a></h3><a href="'+e[i].image+'"><img src="'+e[i].image+'" alt="'+e[i].imageCaption+'"></a><h1><a href="'+e[i].urlArticle+'">'+e[i].title+'</a></h1><p><a href="'+e[i].title+'">'+e[i].description+"</a></p></div></div></div>";t.insertAdjacentHTML("beforeend",a)}$("#new-request").find("#update")&&$("#new-request").after('<section class="feed type-2">\n    <div class="wrapper clearfix">\n      <div class="col w-40 sidebar">\n        <div class="wrapper">\n          \x3c!-- <div class="title">\n            <a href="">\n              Populer\n            </a>\n            <a class="more" href="">\n              Selengkapnya\n            </a>\n          </div> --\x3e\n          <div class="wrapper">\n          </div>\n        </div>\n      </div>\n      <div class="col w-60 thumbnail-lg">\n        <div class="wrapper">\n          <div class="title">\n            <a href="">\n              Terakhir\n            </a>\n            <a class="more" href="">\n              Selengkapnya\n            </a>\n          </div>\n          <div id="recent" class="wrapper">\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>');let a=document.getElementById("recent");function recentPosts(e){var t="";for(i=0;i<e.length;i++)t+='<div class="card"><div class="wrapper clearfix"><span class="date">'+e[i].date+'</span><h3><a href="'+e[i].urlAuthor+'">'+e[i].author+'</a></h3><a href="'+e[i].image+'"><img class="image-center" src="'+e[i].image+'" alt="'+e[i].imageCaption+'"></a><h1><a href="'+e[i].urlArticle+'">'+e[i].title+"</a></h1></div></div>";a.insertAdjacentHTML("beforeend",t)}}if($("#profile-list-article").length){var profileListPopuler=document.getElementById("profile-list-article");function getDataProfileArticle(){var e=new XMLHttpRequest;e.open("GET","ajax/profile-artikel-populer.json"),e.onload=function(){var t=JSON.parse(e.responseText);console.log(t),profileArticlePopuler(t)},e.send()}function profileArticlePopuler(e){var t="";for(i=0;i<e.length;i++)t+='<div class="card"><div class="wrapper"><span class="date">'+e[i].date+'</span><a href=""><img src='+e[i].image+' /></a><h1><a href="">'+e[i].title+'</a></h1><p><a href="">'+e[i].description+"</a></p></div></div>";profileListPopuler.insertAdjacentHTML("beforeend",t),console.log("profileArticlePopulerRender")}window.onload=function(){getDataProfileArticle()}}let sidebarExpander=$(".sidebar").find(".switch");sidebarExpander.off("click").on("click",function(e){e.stopPropagation();$("nav.sidebar");"clicked"==$(this).data("status")?$(this).data("status","not_clicked").closest(".dashboard").removeClass("sidebar-hide"):$(this).data("status","clicked").closest(".dashboard").addClass("sidebar-hide")});let sidebarMenuList=$(".sidebar .wrapper > li"),subMenu=$(".sub ul");sidebarMenuList.on("mouseenter",function(e){e.stopImmediatePropagation(),sidebarMenuList.removeClass("active"),$(this).addClass("active"),sidebarMenuList.on("mouseleave",function(e){$(e.target).closest(subMenu).length&&sidebarMenuList.removeClass("active")})}),$(window).on("click",function(e){e.stopImmediatePropagation(),$(e.target).closest(subMenu)&&sidebarMenuList.removeClass("active")}),$(".tabs li").on("click",function(e){e.stopPropagation();var t=$(this).attr("data-tab");$(".tabs li").removeClass("current"),$(".tab-content").removeClass("current"),$(this).addClass("current"),$("#"+t).addClass("current"),history.pushState(null,null,"#"+t)});let container=$(".container"),popup=$(".popup");var tooltip=$(".tooltip");if(tooltip.each(function(){$(this).data("title",$(this).attr("title")),$(this).removeAttr("title")}),tooltip.on("mouseenter",function(e){e.stopImmediatePropagation(),$(this).after('<div class="tooltip-content">'+$(this).data("title")+"</div>");var t=tooltip.find(".tooltip-content"),a=$(this).find(t);t.not(a).remove()}),tooltip.on("mouseleave",function(){$(".tooltip-content").remove()}),$("#detail").length){$(".image img").each(function(){var e=$(this).offset().top;$(this).data("orig-offset",e)}),$(window).on("scroll",function(){var e=getCurrentScroll();$(".image img").each(function(){var t=$(this).data("orig-offset");if(e>=t){var a=(e-t)/$(window).height()*100;console.log(a),$(this).css({transform:"translate3d(0,"+a+"%, 0)"})}})});var comment=$("#comment"),commentBox=$("#comment textarea"),commentClass=$("form .username"),commentUsername=$("form .username h2");commentUsername.html("Sampaikan sesuatu..."),commentBox.on("focus",function(){comment.addClass("active"),commentUsername.html(commentUsername.attr("data-user")),$(".typing").length?commentClass.removeClass("typing"):commentClass.addClass("typing")}).on("blur",function(){commentUsername.html("Sampaikan sesuatu..."),commentClass.removeClass("typing"),comment.removeClass("active")})}const createTagDiv=document.createElement("div"),createTagA=document.createElement("a"),createTagSpan=document.createElement("span"),menu=document.querySelector(".menu");createTagDiv.className="menu-mobile";const extraButton=menu.before(createTagDiv),menuButton=createTagDiv.appendChild(createTagSpan),menuMobile=document.querySelector(".menu-mobile");menuMobile.addEventListener("click",()=>{menuMobile.classList.contains("close")?(menuMobile.classList.remove("close"),menu.classList.remove("active")):(menuMobile.classList.add("close"),menu.classList.add("active"))});const screenWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;let resizeTimeout;console.log("screen width: ",screenWidth),$(document).on("click",".button.network",function(e){"follow"==$(this).data("follow")?($(this).data("follow","followed"),$(this).removeClass("follow").addClass("followed").attr("data-follow","followed").html("Followed")):($(this).data("follow","follow"),$(this).addClass("follow").removeClass("followed").attr("data-follow","follow").html("Follow"))});let toolbarTop=document.querySelector(".toolbar.user.active");if(!toolbarTop){let e=".button.default",t=".sign",a=document.querySelector(".back"),i=document.querySelectorAll(".sign .content"),o=document.querySelector("#login"),n=document.querySelector(".email-login"),s=document.querySelector(".login-page"),r=document.querySelectorAll("a.login"),c=document.querySelector(".register"),l=document.querySelector(".registration-email"),d=document.querySelector(".email-register"),u=document.querySelector(".register-page");modal(e,t,function(e){if("active"==e)o.classList.add("active");else if("deactive"==e)for(let e=0;e<i.length;e++)i[e].classList.remove("active")}),n.addEventListener("click",function(e){e.preventDefault(),e.stopImmediatePropagation();for(let e=0;e<i.length;e++)i[e].classList.contains("active")?(i[e].classList.remove("active"),s.classList.add("active")):s.classList.add("active");a.addEventListener("click",function(e){e.preventDefault(),e.stopImmediatePropagation(),s.classList.remove("active"),o.classList.add("active")})}),c.addEventListener("click",function(e){e.preventDefault(),e.stopImmediatePropagation();for(let e=0;e<i.length;e++)i[e].classList.contains("active")&&(i[e].classList.remove("active"),u.classList.add("active"))});for(let e=0;e<r.length;e++)r[e].addEventListener("click",function(e){e.preventDefault(),e.stopImmediatePropagation();for(let e=0;e<i.length;e++)i[e].classList.contains("active")&&(i[e].classList.remove("active"),o.classList.add("active"))});d.addEventListener("click",function(e){e.stopImmediatePropagation(),l.classList.add("active");for(let e=0;e<i.length;e++)i[e].classList.contains("active")&&(i[e].classList.remove("active"),l.classList.add("active"))})}